(r=>{"use strict";let e,t,l,o=r=>new Int32Array(r),f=(r,e,t)=>{r.set(e,t)},n=r=>r.length-1,a=Math,h=256,i=8*h,s=h*h,u=s*s,d=a.round,w=(r,e)=>{for(let t=3*r[n(r)]-3;0<=t;t-=3)e(r[t],r[t+1],r[t+2])},g=r=>{if(r)throw 4},v=r=>{if(2>r)return 0;let o=2047&e,f=o*r+r-1>>11,n=f*i,a=n/r|0;for(e=(((n+i)/r|0)-a)*(e>>11)+o-a;e<s;)e=2*e|l[t>>3]>>(7&t++)&1;return f},c=4*s,m=512,p=o(m),y=o(m);for(let r=0;r<m;++r){let e=a.PI*r/m;p[r]=d(c*a.sin(e)),y[r]=d(c*a.cos(e))}let A,I,b,x,C,M,P=o(7),U=o(7),j=()=>{let r=-1;for(;8>r||0<v(2);)r=8*r+v(8)+8;return r},k=0,q=0,z=0,B=0,D=r=>255*v(r)/(r-1)|0,E=r=>[D(r),D(r),D(r),255],F=(r,e,t)=>{var l=A;if(0==v(2)){let e=M.length?M[v(M.length)]:E(b);w(r,(r,o,f)=>{for(;o<f;++o)t.set(e,4*(r*l+o))})}else{var a=(r=>{let e=I+1,t=-1,l=A+1,o=-1;w(r,(r,f,n)=>{e=e<r?e:r,t=t>r?t:r,l=l<f?l:f,o=o>n?o:n}),g(0>t);var f=t+1-e;for(r=(r=o-l)*r+f*f,f=0;6>f&&!(r>=P[f]);++f);return f})(r),h=3*r[n(r)]+1,i=o(h);h=o(h),a=1<<U[a];var s=m/a;((r,e)=>{let t=p[e],l=y[e],o=u,f=-u;for(w(r,(r,e,n)=>{e=l*r+t*e,r=l*r+t*n-t,o=o<e?o:e,f=f>r?f:r}),g(f<o),q=o,z=f,B=c;(k=(f-o)/B|0)>C;)B+=B>>4})(r,a=v(a)*s),s=v(k),((r,e,t,l,o)=>{let a=p[e],h=y[e],i=0,s=0;a?(t=2*t+a,h*=2,a*=2,w(r,(r,e,n)=>{let u=(t-r*h)/a|0;u<n&&f(l,[r,u>e?u:e,n],3*i++),u>e&&f(o,[r,e,u<n?u:n],3*s++)})):w(r,(r,e,n)=>{r*h>=t?f(l,[r,e,n],3*i++):f(o,[r,e,n],3*s++)}),l[n(l)]=i,o[n(o)]=s})(r,a,1<k?q+((z-q-(k-1)*B)/2|0)+B*s:(z+q)/2|0,i,h),e.push(i,h)}};r.decode2im=(r=>{e=((l=r)[0]+l[1]*h|0)+s,t=16,A=j(),I=j();var i=v(4),u=2+v(5),d=10**(3-v(5)/5)|0;r=v(5),C=v(63)+1,u*=(A*A+I*I)*u;for(let r=0;7>r;++r)P[r]=u/36,u=40*u/d|0;for(i=9-i,d=0;7>d;++d)U[d]=a.max(i-d-(d*r/2|0),0);for(r=v(49),b=1+(4+(3&r)<<(r>>2)),x=r-17+1,M=[],r=0;r<x;++r)M.push(E(h));for((i=o(3*I+1))[n(i)]=I,r=0;r<I;++r)f(i,[r,0,A],3*r);for(r=new Uint8ClampedArray(4*A*I),i=[i],d=0;d<=n(i);)for(u=n(i);d<=u;++d)F(i[d],i,r);return{rgba:r,width:A,height:I}})})(window);
