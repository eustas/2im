(zis=>{"use strict";let k=a=>new Int32Array(a),l=(a,b,c)=>{a.set(b,c)},n=a=>a.length-1,q=Math,u=256,v=u*u,w=v*v,x=w*u,y=x*u,z=q.floor,A=q.round,B=(a,b)=>{for(let c=3*a[n(a)]-3;0<=c;c-=3)b(a[c],a[c+1],a[c+2])},D=a=>{if(a)throw 4};let E,F,G,H,I,J=a=>{if(2>a)return 0;{F=z(F/a);let b=z((H-E)/F);D(0>b||b>=a);a=b}E+=a*F;for(F*=a+1-a;;){if(z(E/x)!==z((E+F-1)/x)){if(F>=w)break;F=(y-E)%w}H=H%x*u+(I[G++]|0);F=F%x*u;E=E%x*u}return a},K=()=>{let a=-1;for(;8>a||0<J(2);)a=8*a+J(8)+8;return a};let L=4*v,M=2*u,N=k(M),O=k(M);for(let a=0;a<M;++a){let b=q.PI*a/M;N[a]=A(L*q.sin(b));O[a]=A(L*q.cos(b))}let P,Q,R,S,T=k(7),U=k(7),aa=a=>{let b=Q+1,c=-1,e=P+1,d=-1;B(a,(g,h,p)=>{b=b<g?b:g;c=c>g?c:g;e=e<h?e:h;d=d>p?d:p});D(0>c);a=d-e;var f=c+1-b;a=a*a+f*f;for(f=0;6>f&&!(a>=T[f]);++f);return f};let V=0,W=0,X=0,Y=0,ba=(a,b)=>{let c=N[b],e=O[b],d=w,f=-w;B(a,(g,h,p)=>{h=e*g+c*h;g=e*g+c*p-c;d=d<h?d:h;f=f>g?f:g});D(f<d);W=d;X=f;for(Y=L;;)if(V=(f-d)/Y|0,V>S)Y+=Y/16|0;else break};let ca=(a,b,c,e,d)=>{let f=N[b],g=O[b],h=0,p=0;f?(c=2*c+f,g*=2,f*=2,B(a,(r,m,t)=>{let C=(c-r*g)/f|0;C<t&&l(e,[r,C>m?C:m,t],3*h++);C>m&&l(d,[r,m,C<t?C:t],3*p++)})):B(a,(r,m,t)=>{r*g>=c?l(e,[r,m,t],3*h++):l(d,[r,m,t],3*p++)});e[n(e)]=h;d[n(d)]=p};let Z=a=>(255*J(a)+a-2)/(a-1)|0,da=(a,b,c)=>{var e=P;if(0==J(2)){let p=[Z(R),Z(R),Z(R),u-1];B(a,(r,m,t)=>{for(;m<t;++m)c.set(p,4*(r*e+m))})}else{var d=aa(a),f=3*a[n(a)]+1,g=k(f);f=k(f);d=1<<U[d];var h=M/d;d=J(d)*h;ba(a,d);h=J(V);ca(a,d,1<V?W+((X-W-(V-1)*Y)/2|0)+Y*h:(X+W)/2|0,g,f);b.push(g,f)}},ea=a=>{I=a;H=G=E=0;F=y-1;for(a=0;6>a;++a)H=H*u+(I[G++]|0);P=K();Q=K();var b=J(4),c=2+J(5),e=10**(3-J(5)/5)|0;a=J(5);S=J(63)+1;c=(P*P+Q*Q)*c*c;for(let d=0;7>d;++d)T[d]=c/36,c=40*c/e|0;b=9-b;for(e=0;7>e;++e)U[e]=q.max(b-e-(e*a/2|0),0);a=J(17);R=1+(4+(a&3)<<(a>>2));b=k(3*Q+1);b[n(b)]=Q;for(a=0;a<Q;++a)l(b,[a,0,P],3*a);a=new Uint8ClampedArray(4*P*Q);b=[b];for(e=0;e<=n(b);)for(c=n(b);e<=c;++e)da(b[e],b,a);return new ImageData(a,P,Q)};zis.decode2im=ea})(window);
